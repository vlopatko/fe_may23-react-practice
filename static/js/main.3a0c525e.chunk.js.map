{"version":3,"sources":["api/users.js","api/categories.js","api/products.js","components/PanelComponent.jsx","components/TableComponent.jsx","App.jsx","index.jsx"],"names":["id","name","sex","title","icon","ownerId","categoryId","PanelComponent","categories","users","selectedUsers","setSelectedUsers","selectedCategories","setSelectedCategories","searchQuery","setSearchQuery","handleClickUser","event","copyUsers","Object","assign","includes","target","text","push","handleClickCategories","preventDefault","copyCategories","className","cn","length","href","onClick","map","user","type","placeholder","value","onChange","category","TableComponent","products","visibleProducts","allProducts","copyProducts","filter","product","join","getPreparedProducts","App","useState","productsFromServer","correctCategory","categoriesFromServer","find","correctUser","usersFromServer","ReactDOM","render","document","getElementById"],"mappings":"gPAAe,G,MAAA,CACb,CAAEA,GAAI,EAAGC,KAAM,OAAQC,IAAK,KAC5B,CAAEF,GAAI,EAAGC,KAAM,OAAQC,IAAK,KAC5B,CAAEF,GAAI,EAAGC,KAAM,MAAOC,IAAK,KAC3B,CAAEF,GAAI,EAAGC,KAAM,OAAQC,IAAK,OCJf,GACb,CACEF,GAAI,EACJG,MAAO,UACPC,KAAM,eACNC,QAAS,GAEX,CACEL,GAAI,EACJG,MAAO,SACPC,KAAM,eACNC,QAAS,GAEX,CACEL,GAAI,EACJG,MAAO,SACPC,KAAM,eACNC,QAAS,GAEX,CACEL,GAAI,EACJG,MAAO,cACPC,KAAM,eACNC,QAAS,GAEX,CACEL,GAAI,EACJG,MAAO,UACPC,KAAM,eACNC,QAAS,IC7BE,GACb,CACEL,GAAI,EACJC,KAAM,OACNK,WAAY,GAEd,CACEN,GAAI,EACJC,KAAM,QACNK,WAAY,GAEd,CACEN,GAAI,EACJC,KAAM,OACNK,WAAY,GAEd,CACEN,GAAI,EACJC,KAAM,SACNK,WAAY,GAEd,CACEN,GAAI,EACJC,KAAM,QACNK,WAAY,GAEd,CACEN,GAAI,EACJC,KAAM,SACNK,WAAY,GAEd,CACEN,GAAI,EACJC,KAAM,OACNK,WAAY,GAEd,CACEN,GAAI,EACJC,KAAM,QACNK,WAAY,GAEd,CACEN,GAAI,EACJC,KAAM,SACNK,WAAY,I,uBC2GDC,EApJQ,SAAC,GASjB,IARLC,EAQI,EARJA,WACAC,EAOI,EAPJA,MACAC,EAMI,EANJA,cACAC,EAKI,EALJA,iBACAC,EAII,EAJJA,mBACAC,EAGI,EAHJA,sBACAC,EAEI,EAFJA,YACAC,EACI,EADJA,eAEMC,EAAkB,SAACC,GACvB,IAAMC,EAAYC,OAAOC,OAAO,GAAIV,GAE/BQ,EAAUG,SAASJ,EAAMK,OAAOC,OACnCL,EAAUM,KAAKP,EAAMK,OAAOC,MAG9BZ,EAAiBO,EAClB,EAEKO,EAAwB,SAACR,GAC7BA,EAAMS,iBAEN,IAAMC,EAAiBR,OAAOC,OAAO,GAAIR,GAEpCe,EAAeN,SAASJ,EAAMK,OAAOC,OACxCI,EAAeH,KAAKP,EAAMK,OAAOC,MAGnCV,EAAsBc,EACvB,EAID,OACE,qBAAKC,UAAU,QAAf,SACE,sBAAKA,UAAU,QAAf,UACE,mBAAGA,UAAU,gBAAb,qBAEA,oBAAGA,UAAU,kCAAb,UACE,mBACEA,UAAWC,IACT,CAAE,YAAsC,IAAzBnB,EAAcoB,SAE/B,UAAQ,iBACRC,KAAK,KACLC,QAAS,WACPrB,EAAiB,GAClB,EARH,iBAYCF,EAAMwB,KAAI,SAAAC,GAAI,OACb,mBACEN,UAAWC,IACT,CAAE,YAAanB,EAAcW,SAASa,EAAKjC,QAE7C,UAAQ,aACR8B,KAAK,KAELC,QAAShB,EAPX,SASGkB,EAAKjC,MAHDiC,EAAKjC,KAPC,OAejB,qBAAK2B,UAAU,cAAf,SACE,oBAAGA,UAAU,yCAAb,UACE,uBACE,UAAQ,cACRO,KAAK,SACLP,UAAU,QACVQ,YAAY,SACZC,MAAOvB,EACPwB,SAAU,SAACrB,GACTF,EAAeE,EAAMK,OAAOe,MAC7B,IAGH,sBAAMT,UAAU,eAAhB,SACE,mBAAGA,UAAU,gBAAgB,cAAY,WAE1Cd,EAAYgB,OAAS,GAElB,sBAAMF,UAAU,gBAAhB,SAEE,wBACEI,QAAS,WACPjB,EAAe,GAChB,EACD,UAAQ,cACRoB,KAAK,SACLP,UAAU,kBAOtB,sBAAKA,UAAU,gCAAf,UACE,mBACEG,KAAK,KACL,UAAQ,gBACRH,UAAWC,IACT,yBACA,CAAE,cAA6C,IAA9BjB,EAAmBkB,SAEtCE,QAAS,WACPnB,EAAsB,GACvB,EATH,iBAaCL,EAAWyB,KAAI,SAAAM,GAAQ,OACtB,mBACE,UAAQ,WACRX,UAAWC,IACT,mBACA,CAAE,UAAWjB,EAAmBS,SAASkB,EAASpC,SAEpD4B,KAAK,KAELC,QAASP,EARX,SAUGc,EAASpC,OAHLoC,EAASpC,MARM,OAgB1B,qBAAKyB,UAAU,cAAf,SACE,mBACE,UAAQ,iBACRG,KAAK,KACLH,UAAU,0CACVI,QAAS,WACPnB,EAAsB,IACtBF,EAAiB,GAClB,EAPH,qCAeT,E,OCfc6B,EAlIQ,SAAC,GAKjB,IAJLC,EAII,EAJJA,SACA/B,EAGI,EAHJA,cACAE,EAEI,EAFJA,mBA0BM8B,GAxBF,EADJ5B,YAE4B,SAC1B6B,EACAlC,EACAD,GAGA,IAAIoC,EAAY,YAAOD,GAcvB,OAZInC,EAAWsB,OAAS,IACtBc,EAAeA,EAAaC,QAAO,SAAAC,GAAO,OACxCtC,EAAWuC,KAAK,KAAK1B,SAASyB,EAAQP,SAASpC,MADP,KAKxCM,EAAMqB,OAAS,IACjBc,EAAeA,EAAaC,QAAO,SAAAC,GAAO,OACxCrC,EAAMsC,KAAK,KAAK1B,SAASyB,EAAQZ,KAAKjC,KADE,KAKrC2C,CACR,CAEuBI,CACtBP,EACA/B,EACAE,IAGF,OACE,qBAAKgB,UAAU,sBAAf,SACGc,EAAgBZ,OAAS,EAEtB,wBACE,UAAQ,eACRF,UAAU,0CAFZ,UAIE,gCACE,+BACE,6BACE,uBAAMA,UAAU,8BAAhB,eAGE,mBAAGG,KAAK,KAAR,SACE,sBAAMH,UAAU,OAAhB,SACE,mBAAG,UAAQ,WAAWA,UAAU,yBAMxC,6BACE,uBAAMA,UAAU,8BAAhB,oBAGE,mBAAGG,KAAK,KAAR,SACE,sBAAMH,UAAU,OAAhB,SACE,mBAAG,UAAQ,WAAWA,UAAU,8BAMxC,6BACE,uBAAMA,UAAU,8BAAhB,qBAGE,mBAAGG,KAAK,KAAR,SACE,sBAAMH,UAAU,OAAhB,SACE,mBAAG,UAAQ,WAAWA,UAAU,4BAMxC,6BACE,uBAAMA,UAAU,8BAAhB,iBAGE,mBAAGG,KAAK,KAAR,SACE,sBAAMH,UAAU,OAAhB,SACE,mBAAG,UAAQ,WAAWA,UAAU,8BAQ5C,gCACGc,EAAgBT,KAAI,SAAAa,GAAO,OAC1B,qBAAI,UAAQ,UAAZ,UACE,oBAAIlB,UAAU,uBAAuB,UAAQ,YAA7C,SACGkB,EAAQ9C,KAGX,oBAAI,UAAQ,cAAZ,SAA2B8C,EAAQ7C,OACnC,oBAAI,UAAQ,kBAAZ,mBACM6C,EAAQP,SAASnC,KADvB,cACiC0C,EAAQP,SAASpC,SAGlD,oBACE,UAAQ,cACRyB,UAAWC,IACT,CAAE,gBAAsC,MAArBiB,EAAQZ,KAAKhC,KAChC,CAAE,kBAAwC,MAArB4C,EAAQZ,KAAKhC,MAJtC,SAOG4C,EAAQZ,KAAKjC,SAlBQ,SAyBhC,mBAAG,UAAQ,oBAAX,qDAOT,EC1HYgD,EAAM,WACjB,MAA0CC,mBAAS,IAAnD,mBAAOxC,EAAP,KAAsBC,EAAtB,KACA,EAAoDuC,mBAAS,IAA7D,mBAAOtC,EAAP,KAA2BC,EAA3B,KACA,EAAsCqC,mBAAS,IAA/C,mBAAOpC,EAAP,KAAoBC,EAApB,KAEM0B,EAAWU,EAAmBlB,KAAI,SAACa,GACvC,IAAMM,EAAkBC,EAAqBC,MAAK,SAAAf,GAAQ,OACxDA,EAASvC,KAAO8C,EAAQxC,UADgC,IAIpDiD,EAAcC,EAAgBF,MAAK,SAAApB,GAAI,OAC3CA,EAAKlC,KAAOoD,EAAgB/C,OADe,IAI7C,OAAO,2BAAKyC,GAAZ,IAAqBP,SAAUa,EAAiBlB,KAAMqB,GACvD,IAID,OACE,qBAAK3B,UAAU,UAAf,SACE,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,QAAd,gCAEA,cAAC,EAAD,CACEpB,WAAY6C,EACZ5C,MAAO+C,EACP9C,cAAeA,EACfC,iBAAkBA,EAClBC,mBAAoBA,EACpBC,sBAAuBA,EACvBC,YAAaA,EACbC,eAAgBA,IAElB,cAAC,EAAD,CACE0B,SAAUA,EACV/B,cAAeA,EACfE,mBAAoBA,EACpBE,YAAaA,QAKtB,EC7CD2C,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,Q","file":"static/js/main.3a0c525e.chunk.js","sourcesContent":["export default [\n  { id: 1, name: 'Roma', sex: 'm' },\n  { id: 2, name: 'Anna', sex: 'f' },\n  { id: 3, name: 'Max', sex: 'm' },\n  { id: 4, name: 'John', sex: 'm' },\n];\n","export default [\n  {\n    id: 1,\n    title: 'Grocery',\n    icon: 'ðŸž',\n    ownerId: 2,\n  },\n  {\n    id: 2,\n    title: 'Drinks',\n    icon: 'ðŸº',\n    ownerId: 1,\n  },\n  {\n    id: 3,\n    title: 'Fruits',\n    icon: 'ðŸ',\n    ownerId: 2,\n  },\n  {\n    id: 4,\n    title: 'Electronics',\n    icon: 'ðŸ’»',\n    ownerId: 1,\n  },\n  {\n    id: 5,\n    title: 'Clothes',\n    icon: 'ðŸ‘š',\n    ownerId: 3,\n  },\n];\n","export default [\n  {\n    id: 1,\n    name: 'Milk',\n    categoryId: 2,\n  },\n  {\n    id: 2,\n    name: 'Bread',\n    categoryId: 1,\n  },\n  {\n    id: 3,\n    name: 'Eggs',\n    categoryId: 1,\n  },\n  {\n    id: 4,\n    name: 'Jacket',\n    categoryId: 5,\n  },\n  {\n    id: 5,\n    name: 'Sugar',\n    categoryId: 1,\n  },\n  {\n    id: 6,\n    name: 'Banana',\n    categoryId: 3,\n  },\n  {\n    id: 7,\n    name: 'Beer',\n    categoryId: 2,\n  },\n  {\n    id: 8,\n    name: 'Socks',\n    categoryId: 5,\n  },\n  {\n    id: 9,\n    name: 'Apples',\n    categoryId: 3,\n  },\n];\n","import React from 'react';\nimport cn from 'classnames';\n\nconst PanelComponent = ({\n  categories,\n  users,\n  selectedUsers,\n  setSelectedUsers,\n  selectedCategories,\n  setSelectedCategories,\n  searchQuery,\n  setSearchQuery,\n}) => {\n  const handleClickUser = (event) => {\n    const copyUsers = Object.assign([], selectedUsers);\n\n    if (!copyUsers.includes(event.target.text)) {\n      copyUsers.push(event.target.text);\n    }\n\n    setSelectedUsers(copyUsers);\n  };\n\n  const handleClickCategories = (event) => {\n    event.preventDefault();\n    // console.log(event.target.text);\n    const copyCategories = Object.assign([], selectedCategories);\n\n    if (!copyCategories.includes(event.target.text)) {\n      copyCategories.push(event.target.text);\n    }\n\n    setSelectedCategories(copyCategories);\n  };\n  // console.log(selectedCategories);\n  // console.log(selectedUsers);\n\n  return (\n    <div className=\"block\">\n      <nav className=\"panel\">\n        <p className=\"panel-heading\">Filters</p>\n\n        <p className=\"panel-tabs has-text-weight-bold\">\n          <a\n            className={cn(\n              { 'is-active': selectedUsers.length === 0 },\n            )}\n            data-cy=\"FilterAllUsers\"\n            href=\"#/\"\n            onClick={() => {\n              setSelectedUsers([]);\n            }}\n          >\n            All\n          </a>\n          {users.map(user => (\n            <a\n              className={cn(\n                { 'is-active': selectedUsers.includes(user.name) },\n              )}\n              data-cy=\"FilterUser\"\n              href=\"#/\"\n              key={user.name}\n              onClick={handleClickUser}\n            >\n              {user.name}\n            </a>\n          ))}\n        </p>\n\n        <div className=\"panel-block\">\n          <p className=\"control has-icons-left has-icons-right\">\n            <input\n              data-cy=\"SearchField\"\n              type=\"search\"\n              className=\"input\"\n              placeholder=\"Search\"\n              value={searchQuery}\n              onChange={(event) => {\n                setSearchQuery(event.target.value);\n              }}\n            />\n\n            <span className=\"icon is-left\">\n              <i className=\"fas fa-search\" aria-hidden=\"true\" />\n            </span>\n            {searchQuery.length > 0\n              && (\n                <span className=\"icon is-right\">\n                  {/* eslint-disable-next-line jsx-a11y/control-has-associated-label */}\n                  <button\n                    onClick={() => {\n                      setSearchQuery('');\n                    }}\n                    data-cy=\"ClearButton\"\n                    type=\"button\"\n                    className=\"delete\"\n                  />\n                </span>\n              )}\n          </p>\n        </div>\n\n        <div className=\"panel-block is-flex-wrap-wrap\">\n          <a\n            href=\"#/\"\n            data-cy=\"AllCategories\"\n            className={cn(\n              'button mr-6 is-success',\n              { 'is-outlined': selectedCategories.length !== 0 },\n            )}\n            onClick={() => {\n              setSelectedCategories([]);\n            }}\n          >\n            All\n          </a>\n          {categories.map(category => (\n            <a\n              data-cy=\"Category\"\n              className={cn(\n                'button mr-2 my-1',\n                { 'is-info': selectedCategories.includes(category.title) },\n              )}\n              href=\"#/\"\n              key={category.title}\n              onClick={handleClickCategories}\n            >\n              {category.title}\n            </a>\n          ))}\n        </div>\n\n        <div className=\"panel-block\">\n          <a\n            data-cy=\"ResetAllButton\"\n            href=\"#/\"\n            className=\"button is-link is-outlined is-fullwidth\"\n            onClick={() => {\n              setSelectedCategories([]);\n              setSelectedUsers([]);\n            }}\n          >\n            Reset all filters\n          </a>\n        </div>\n      </nav>\n    </div>\n  );\n};\n\nexport default PanelComponent;\n","/* eslint-disable jsx-a11y/accessible-emoji */\nimport React from 'react';\nimport cn from 'classnames';\n\nconst TableComponent = ({\n  products,\n  selectedUsers,\n  selectedCategories,\n  searchQuery,\n}) => {\n  const getPreparedProducts = (\n    allProducts,\n    users,\n    categories,\n  ) => {\n    // const copyProducts = Object.assign([], allProducts);\n    let copyProducts = [...allProducts];\n\n    if (categories.length > 0) {\n      copyProducts = copyProducts.filter(product => (\n        categories.join('-').includes(product.category.title)\n      ));\n    }\n\n    if (users.length > 0) {\n      copyProducts = copyProducts.filter(product => (\n        users.join('-').includes(product.user.name)\n      ));\n    }\n\n    return copyProducts;\n  };\n\n  const visibleProducts = getPreparedProducts(\n    products,\n    selectedUsers,\n    selectedCategories,\n  );\n\n  return (\n    <div className=\"box table-container\">\n      {visibleProducts.length > 0\n        ? (\n          <table\n            data-cy=\"ProductTable\"\n            className=\"table is-striped is-narrow is-fullwidth\"\n          >\n            <thead>\n              <tr>\n                <th>\n                  <span className=\"is-flex is-flex-wrap-nowrap\">\n                    ID\n\n                    <a href=\"#/\">\n                      <span className=\"icon\">\n                        <i data-cy=\"SortIcon\" className=\"fas fa-sort\" />\n                      </span>\n                    </a>\n                  </span>\n                </th>\n\n                <th>\n                  <span className=\"is-flex is-flex-wrap-nowrap\">\n                    Product\n\n                    <a href=\"#/\">\n                      <span className=\"icon\">\n                        <i data-cy=\"SortIcon\" className=\"fas fa-sort-down\" />\n                      </span>\n                    </a>\n                  </span>\n                </th>\n\n                <th>\n                  <span className=\"is-flex is-flex-wrap-nowrap\">\n                    Category\n\n                    <a href=\"#/\">\n                      <span className=\"icon\">\n                        <i data-cy=\"SortIcon\" className=\"fas fa-sort-up\" />\n                      </span>\n                    </a>\n                  </span>\n                </th>\n\n                <th>\n                  <span className=\"is-flex is-flex-wrap-nowrap\">\n                    User\n\n                    <a href=\"#/\">\n                      <span className=\"icon\">\n                        <i data-cy=\"SortIcon\" className=\"fas fa-sort\" />\n                      </span>\n                    </a>\n                  </span>\n                </th>\n              </tr>\n            </thead>\n\n            <tbody>\n              {visibleProducts.map(product => (\n                <tr data-cy=\"Product\">\n                  <td className=\"has-text-weight-bold\" data-cy=\"ProductId\">\n                    {product.id}\n                  </td>\n\n                  <td data-cy=\"ProductName\">{product.name}</td>\n                  <td data-cy=\"ProductCategory\">\n                    {`${product.category.icon} - ${product.category.title}`}\n                  </td>\n\n                  <td\n                    data-cy=\"ProductUser\"\n                    className={cn(\n                      { 'has-text-link': product.user.sex === 'm' },\n                      { 'has-text-danger': product.user.sex === 'f' },\n                    )}\n                  >\n                    {product.user.name}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        ) : (\n          <p data-cy=\"NoMatchingMessage\">\n            No products matching selected criteria\n          </p>\n        )}\n\n    </div>\n  );\n};\n\nexport default TableComponent;\n","import React, { useState } from 'react';\nimport './App.scss';\n\nimport usersFromServer from './api/users';\nimport categoriesFromServer from './api/categories';\nimport productsFromServer from './api/products';\n\nimport PanelComponent from './components/PanelComponent';\nimport TableComponent from './components/TableComponent';\n\nexport const App = () => {\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [selectedCategories, setSelectedCategories] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const products = productsFromServer.map((product) => {\n    const correctCategory = categoriesFromServer.find(category => (\n      category.id === product.categoryId\n    ));\n\n    const correctUser = usersFromServer.find(user => (\n      user.id === correctCategory.ownerId\n    ));\n\n    return { ...product, category: correctCategory, user: correctUser };\n  });\n\n  // console.dir(products);\n\n  return (\n    <div className=\"section\">\n      <div className=\"container\">\n        <h1 className=\"title\">Product Categories</h1>\n\n        <PanelComponent\n          categories={categoriesFromServer}\n          users={usersFromServer}\n          selectedUsers={selectedUsers}\n          setSelectedUsers={setSelectedUsers}\n          selectedCategories={selectedCategories}\n          setSelectedCategories={setSelectedCategories}\n          searchQuery={searchQuery}\n          setSearchQuery={setSearchQuery}\n        />\n        <TableComponent\n          products={products}\n          selectedUsers={selectedUsers}\n          selectedCategories={selectedCategories}\n          searchQuery={searchQuery}\n        />\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}